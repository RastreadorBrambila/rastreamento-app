<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Gerador de Mensagens - Rastreamento</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      margin: 0;
      padding: 0;
      background: #f4f6f3;
    }
    header {
      background: #1b5e20; /* Verde escuro */
      color: white;
      text-align: center;
      padding: 15px;
      font-size: 22px;
      font-weight: bold;
    }
    .container {
      display: flex;
      justify-content: space-between;
      gap: 20px;
      max-width: 1200px;
      margin: 30px auto;
      padding: 0 20px;
    }
    .formulario {
      flex: 1;
      background: white;
      padding: 25px;
      border-radius: 12px;
      border: 2px solid #fbc02d; /* Amarelo */
      box-shadow: 0px 6px 12px rgba(0,0,0,0.15);
    }
    label {
      display: block;
      margin-top: 12px;
      font-weight: bold;
      color: #333;
    }
    input, select, textarea {
      width: 100%;
      padding: 10px;
      margin-top: 6px;
      border: 1px solid #ccc;
      border-radius: 6px;
      font-size: 14px;
    }
    textarea {
      min-height: 80px;
      resize: vertical;
    }
    .linha {
      display: flex;
      gap: 15px;
    }
    .linha > div {
      flex: 1;
    }
    button {
      margin-top: 20px;
      padding: 12px;
      background: #fbc02d; /* Amarelo */
      color: #1b5e20;
      font-size: 16px;
      font-weight: bold;
      border: none;
      border-radius: 6px;
      cursor: pointer;
      transition: 0.3s;
    }
    button:hover {
      background: #f9a825;
    }
    .output {
      margin-top: 25px;
      padding: 15px;
      background: #e8f5e9;
      border-left: 6px solid #1b5e20;
      border-radius: 6px;
      font-family: monospace;
      white-space: pre-line;
      font-size: 14px;
    }
    .hidden {
      display: none;
    }
    .copy-button {
      margin-top: 10px;
      padding: 8px 12px;
      background: #1b5e20; /* Verde escuro */
      color: white;
      font-size: 14px;
      border: none;
      border-radius: 4px;
      cursor: pointer;
      transition: 0.3s;
    }
    .copy-button:hover {
      background: #2e7d32;
    }
    /* Estilo para os botões de rádio de pedágio */
    .radio-group {
      display: flex;
      gap: 20px; /* Espaçamento entre os botões de rádio */
      margin-top: 10px;
      align-items: center; /* Alinha verticalmente os itens */
    }
    .radio-group input[type="radio"] {
      width: auto; /* Permite que o input de rádio tenha seu tamanho natural */
      margin-right: 5px; /* Espaçamento entre o rádio e o label */
    }
    .radio-group label {
      margin-top: 0; /* Remove margem superior padrão do label */
      display: inline-block; /* Permite que o label fique ao lado do rádio */
      font-weight: normal; /* Remove negrito para labels de rádio */
    }
    footer {
      text-align: center;
      margin-top: 40px;
      padding: 20px;
      color: #555;
      font-size: 14px;
    }
  </style>
</head>
<body>
  <header>Gerador de E-mails e WhatsApp - Rastreamento</header>

  <div class="container">
    <!-- Formulário -->
    <div class="formulario">
      <label>Motorista:</label>
      <input type="text" id="motorista">

      <div class="linha">
        <div>
          <label>Placa:</label>
          <input type="text" id="placa">
        </div>
        <div>
          <label>Modelo da Carreta:</label>
          <select id="modeloCarreta">
            <option value="/ 9 EIXO">/ 9 EIXO</option>
            <option value="/ SIDER">/ SIDER</option>
            <option value="/ 4 EIXO">/ 4 EIXO</option>
            <option value="/ CARRETA 4 EIXO">/ CARRETA 4 EIXO</option>
            <option value="/ LS">/ LS</option>
          </select>
        </div>
      </div>

      <label>Localização:</label>
      <input type="text" id="localizacao" placeholder="Ex: São Paulo - SP">

      <div class="linha">
        <div>
          <label>Origem:</label>
          <input type="text" id="origem">
        </div>
        <div>
          <label>Destino:</label>
          <input type="text" id="destino">
        </div>
      </div>

      <label>Situação:</label>
      <select id="situacao" onchange="mostrarCamposCercaFora()">
        <option value="">Selecione a Situação</option> <!-- Opção em branco -->
        <!-- <option value="POSTO PROIBIDO" selected>POSTO PROIBIDO</option> --> <!-- Opção padrão "POSTO PROIBIDO" -->
        <option value="CERCA FORA">CERCA FORA</option>
        <option value="ROUBO CONFIRMADO">ROUBO CONFIRMADO</option>
        <option value="SUSPEITA DE ROUBO">SUSPEITA DE ROUBO</option>
        <option value="TOMBAMENTO">TOMBAMENTO</option>
        <option value="ACIDENTE">ACIDENTE</option>
        <option value="POSTO PROIBIDO">POSTO PROIBIDO</option>
        <option value="PROBLEMA MECANICO">PROBLEMA MECANICO</option>
        <option value="PROBLEMA COM A DESCARGA">PROBLEMA COM A DESCARGA</option>
        <option value="PROBLEMA COM A COLETA">PROBLEMA COM A COLETA</option>
        <option value="PROBLEMA NA VIAGEM">PROBLEMA NA VIAGEM</option>
        <option value="INFORMAÇÃO DIVERGENTE">INFORMAÇÃO DIVERGENTE</option>
        <option value="BLOQUEIO">BLOQUEIO</option>
        <option value="DESBLOQUEIO">DESBLOQUEIO</option>
        <option value="PROBLEMA COM A GR">PROBLEMA COM A GR</option>
        <option value="PERNOITE NA RUA">PERNOITE NA RUA</option>
        <option value="PERNOITE EM LOCAL DE RISCO">PERNOITE EM LOCAL DE RISCO</option>
        <option value="TERA QUE PASSAR DO HORARIO">TERA QUE PASSAR DO HORARIO</option>
      </select>

      <div id="camposCercaFora" class="hidden">
        <label>Data e Hora:</label>
        <input type="text" id="hora" placeholder="Ex: 27/04 - 10:20">

        <label>Diferença de KM (aproximadamente):</label>
        <input type="number" id="kmDiferenca" step="1" placeholder="Ex: 60">

        <div class="radio-group">
          <input type="radio" name="pedagio" id="semPedagio" checked onclick="togglePedagio(false)">
          <label for="semPedagio">Sem pedágio</label>
          <input type="radio" name="pedagio" id="comPedagio" onclick="togglePedagio(true)">
          <label for="comPedagio">Com pedágio</label>
        </div>

        <div id="valoresPedagio" class="hidden">
          <label>Acréscimo de Pedágio (aproximadamente) (R$):</label>
          <input type="number" id="acrescimoPedagio" step="0.01">
        </div>
      </div>

      <label>Ocorrência:</label>
      <textarea id="ocorrido" placeholder="Descreva o ocorrido..."></textarea>

      <button onclick="gerarMensagens()">Gerar Mensagens</button>
    </div>

    <!-- Saídas -->
    <div class="formulario">
      <h3>Email:</h3>
      <div class="output hidden" id="saidaEmail"></div>
      <button class="copy-button hidden" id="copyEmailBtn" onclick="copiarTexto('saidaEmail')">Copiar Email</button>

      <h3>WhatsApp:</h3>
      <div class="output" id="saidaWhats"></div>
      <button class="copy-button" id="copyWhatsBtn" onclick="copiarTexto('saidaWhats')">Copiar WhatsApp</button>
    </div>
  </div>

  <footer>
    Criado por Eduardo
  </footer>

  <script>
    function mostrarCamposCercaFora() {
      const situacao = document.getElementById("situacao").value;
      const campos = document.getElementById("camposCercaFora");
      const saidaEmail = document.getElementById("saidaEmail");
      const copyEmailBtn = document.getElementById("copyEmailBtn");

      if (situacao === "CERCA FORA") {
        campos.classList.remove("hidden");
        saidaEmail.classList.remove("hidden");
        copyEmailBtn.classList.remove("hidden");
      } else {
        campos.classList.add("hidden");
        saidaEmail.classList.add("hidden");
        copyEmailBtn.classList.add("hidden");
      }
    }

    function togglePedagio(mostrar) {
      const valores = document.getElementById("valoresPedagio");
      if (mostrar) {
        valores.classList.remove("hidden");
      } else {
        valores.classList.add("hidden");
      }
    }

    function gerarMensagens() {
      const motorista = document.getElementById("motorista").value;
      const placa = document.getElementById("placa").value;
      const modeloCarreta = document.getElementById("modeloCarreta").value;
      const localizacao = document.getElementById("localizacao").value;
      const origem = document.getElementById("origem").value;
      const destino = document.getElementById("destino").value;
      const hora = document.getElementById("hora") ? document.getElementById("hora").value : "";
      const situacao = document.getElementById("situacao").value;
      const ocorrido = document.getElementById("ocorrido").value;
      const kmDiferenca = document.getElementById("kmDiferenca") ? document.getElementById("kmDiferenca").value : "";

      let whats = `
*Motorista:* ${motorista}
*Placa:* ${placa} ${modeloCarreta}
*Localização:* ${localizacao}
*Rota:* ${origem} x ${destino}
*Situação:* ${situacao}
*Ocorrência:* ${ocorrido}
      `;

      let email = "";
      if (situacao === "CERCA FORA") {
        const semPedagio = document.getElementById("semPedagio").checked;
        let trechoPedagio = "sem acréscimo de pedágio";
        if (!semPedagio) {
          const acrescimo = parseFloat(document.getElementById("acrescimoPedagio").value) || 0;
          trechoPedagio = `com acréscimo de pedágio no valor de R$ ${acrescimo.toFixed(2)}`;
        }

        let kmTexto = "";
        if (kmDiferenca) {
            kmTexto = `Ocasionando uma diferença total de aproximadamente ${kmDiferenca} km, `;
        }

        email = `
CERCA FORA - ${motorista} - ${placa}

ITINERÁRIO: ${origem} x ${destino}
HORA: ${hora}

OCORRIDO: ${ocorrido}

${kmTexto}${trechoPedagio}.
        `;
        document.getElementById("saidaEmail").classList.remove("hidden");
        document.getElementById("copyEmailBtn").classList.remove("hidden");
        document.getElementById("saidaEmail").innerText = email;
      } else {
        document.getElementById("saidaEmail").classList.add("hidden");
        document.getElementById("copyEmailBtn").classList.add("hidden");
      }

      document.getElementById("saidaWhats").innerText = whats;
      document.getElementById("copyWhatsBtn").classList.remove("hidden"); // Sempre visível para WhatsApp
    }

    function copiarTexto(idElemento) {
      const elemento = document.getElementById(idElemento);
      const texto = elemento.innerText;
      navigator.clipboard.writeText(texto).then(() => {
        alert('Texto copiado para a área de transferência!');
      }).catch(err => {
        console.error('Erro ao copiar texto: ', err);
        alert('Erro ao copiar texto. Por favor, copie manualmente.');
      });
    }

    // Inicializa os campos de cerca fora como hidden ao carregar a página
    document.addEventListener('DOMContentLoaded', (event) => {
        mostrarCamposCercaFora();
    });
  </script>
</body>
</html>